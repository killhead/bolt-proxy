# Neo4j Bolt Proxy Service

Этот сервис проксирует TCP трафик (Bolt протокол) на порт 80, чтобы Railway мог привязать к нему домен.

## Назначение

Railway позволяет привязать только один порт к одному домену. Основной сервис `neo4j-deploy` использует порт 80 для Neo4j UI. Этот сервис проксирует Bolt протокол (порт 7687) на порт 80, чтобы можно было подключиться к базе данных через отдельный домен.

## Как использовать

1. **Добавьте сервис в Railway:**
   - В Railway Dashboard создайте новый сервис
   - Подключите репозиторий и укажите путь: `bolt-proxy`
   - Railway автоматически обнаружит Dockerfile

2. **Настройте переменные окружения:**
   ```
   NEO4J_BOLT_HOST=neo4j-deploy.railway.internal:7687
   PORT=80
   ```

3. **Привяжите домен:**
   - В настройках сервиса привяжите домен к порту 80
   - Например: `neo4j-bolt-test.up.railway.app`

4. **Подключитесь к Neo4j:**
   ```
   neo4j+s://neo4j-bolt-test.up.railway.app:80
   ```
   или
   ```
   neo4j://neo4j-bolt-test.up.railway.app:80
   ```

## Технические детали

- Использует `socat` для TCP проксирования
- Слушает на порту 80 (настраивается через переменную PORT)
- Проксирует трафик на `neo4j-deploy.railway.internal:7687`
- Работает только внутри Railway (использует внутренний домен)

## Примечания

- Этот сервис работает только для подключений внутри Railway
- Для внешнего доступа к Bolt нужно использовать другой подход
- Убедитесь, что основной сервис `neo4j-deploy` запущен и доступен

